# üìö –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é 8bit-codex

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
./deploy.sh
```

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker –∏ Docker Compose
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP –∞–¥—Ä–µ—Å –∏–ª–∏ DDNS —Å–µ—Ä–≤–∏—Å
- –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ (3000, 8000)
- Linux/Mac/WSL –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤

## üîß –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –¥–µ–ø–ª–æ—é

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–æ—É—Ç–µ—Ä–∞ (Port Forwarding)

–û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–∞—à–µ–≥–æ —Ä–æ—É—Ç–µ—Ä–∞ (–æ–±—ã—á–Ω–æ 192.168.1.1 –∏–ª–∏ 192.168.0.1) –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏—é –ø–æ—Ä—Ç–æ–≤:

| –í–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π IP | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Ä—Ç | –ü—Ä–æ—Ç–æ–∫–æ–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------------|---------------|------------------|----------|----------|
| 3000 | –í–∞—à_IP | 3000 | TCP | Frontend |
| 8000 | –í–∞—à_IP | 8000 | TCP | Backend API |

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ IP –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ DDNS

#### –í–∞—Ä–∏–∞–Ω—Ç A: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP
- –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –≤–∞—à–µ–º—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ IP
- –°—Ç–æ–∏–º–æ—Å—Ç—å: –æ–±—ã—á–Ω–æ 100-500 —Ä—É–±/–º–µ—Å—è—Ü

#### –í–∞—Ä–∏–∞–Ω—Ç B: DDNS (Dynamic DNS)
–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:
- **No-IP** (noip.com)
- **DuckDNS** (duckdns.org)
- **Dynu** (dynu.com)

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ DDNS:
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ
2. –°–æ–∑–¥–∞–π—Ç–µ –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä: myapp.ddns.net)
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ DDNS –∫–ª–∏–µ–Ω—Ç –Ω–∞ —Ä–æ—É—Ç–µ—Ä –∏–ª–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–æ–º–µ–Ω –≤–º–µ—Å—Ç–æ IP –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ö

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firewall

#### Windows:
```powershell
# –û—Ç–∫—Ä–æ–π—Ç–µ PowerShell –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
New-NetFirewallRule -DisplayName "8bit Backend" -Direction Inbound -LocalPort 8000 -Protocol TCP -Action Allow
New-NetFirewallRule -DisplayName "8bit Frontend" -Direction Inbound -LocalPort 3000 -Protocol TCP -Action Allow
```

#### Linux:
```bash
sudo ufw allow 3000/tcp
sudo ufw allow 8000/tcp
sudo ufw reload
```

## üõ†Ô∏è –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π

### 1. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# –ü–æ–ª—É—á–∏—Ç–µ –≤–∞—à –ø—É–±–ª–∏—á–Ω—ã–π IP
curl ifconfig.me

# –û–±–Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª—ã:
# - agency_frontend/.env.production
# - .env.production
# –ó–∞–º–µ–Ω–∏—Ç–µ YOUR_PUBLIC_IP –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π IP
```

### 2. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
docker-compose -f docker-compose.production.yml build

# –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
docker-compose -f docker-compose.production.yml up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose -f docker-compose.production.yml ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose -f docker-compose.production.yml logs -f
```

### 3. –û—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
docker-compose -f docker-compose.production.yml down
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
1. **–°–º–µ–Ω–∏—Ç–µ SECRET_KEY** –≤ .env.production
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS** (—Å–º. —Ä–∞–∑–¥–µ–ª SSL –Ω–∏–∂–µ)
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ backup** –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
4. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø** –ø–æ IP –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
5. **–û–±–Ω–æ–≤–ª—è–π—Ç–µ** –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ SSL (HTTPS)

#### –í–∞—Ä–∏–∞–Ω—Ç 1: Cloudflare (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –¥–æ–º–µ–Ω (–º–æ–∂–Ω–æ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –Ω–∞ freenom.com)
2. –î–æ–±–∞–≤—å—Ç–µ —Å–∞–π—Ç –≤ Cloudflare
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS –∑–∞–ø–∏—Å–∏
4. –í–∫–ª—é—á–∏—Ç–µ SSL/TLS –≤ —Ä–µ–∂–∏–º–µ "Flexible"

#### –í–∞—Ä–∏–∞–Ω—Ç 2: Let's Encrypt
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ certbot
sudo apt-get install certbot

# –ü–æ–ª—É—á–∏—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
sudo certbot certonly --standalone -d yourdomain.com

# –û–±–Ω–æ–≤–∏—Ç–µ nginx.conf –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è SSL
```

## üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞

### 1. –ö—É–ø–∏—Ç–µ –¥–æ–º–µ–Ω
- Namecheap.com (~$10/–≥–æ–¥)
- GoDaddy.com (~$12/–≥–æ–¥)
- Reg.ru (~500 —Ä—É–±/–≥–æ–¥)

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS –∑–∞–ø–∏—Å–∏

| –¢–∏–ø | –ò–º—è | –ó–Ω–∞—á–µ–Ω–∏–µ | TTL |
|-----|-----|----------|-----|
| A | @ | –í–∞—à_IP | 3600 |
| A | www | –í–∞—à_IP | 3600 |
| A | api | –í–∞—à_IP | 3600 |

### 3. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
–ó–∞–º–µ–Ω–∏—Ç–µ IP –∞–¥—Ä–µ—Å–∞ –Ω–∞ –¥–æ–º–µ–Ω –≤:
- agency_frontend/.env.production
- .env.production

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ frontend
curl http://–í–ê–®_IP:3000

# –ü—Ä–æ–≤–µ—Ä–∫–∞ backend
curl http://–í–ê–®_IP:8000/docs
```

### –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
- UptimeRobot (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
- Pingdom (–ø–ª–∞—Ç–Ω–æ)
- StatusCake (–±–µ—Å–ø–ª–∞—Ç–Ω–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏)

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ –∏–∑–≤–Ω–µ
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏—é –ø–æ—Ä—Ç–æ–≤ –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π IP
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã

### –û—à–∏–±–∫–∞ CORS
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS_ORIGINS –≤ .env.production
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ frontend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π API_URL

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –ø–∞–ø–∫—É —Å –ë–î
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ volume –ø—Ä–∏–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## üì± –ú–æ–±–∏–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø

–î–ª—è –¥–æ—Å—Ç—É–ø–∞ —Å –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤:
1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Ç–æ–π –∂–µ Wi-Fi —Å–µ—Ç–∏
2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π IP/–¥–æ–º–µ–Ω
3. –î–æ–±–∞–≤—å—Ç–µ —Å–∞–π—Ç –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –¥–ª—è app-like –æ–ø—ã—Ç–∞

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
# –ü–æ–ª—É—á–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git pull

# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
docker-compose -f docker-compose.production.yml down
docker-compose -f docker-compose.production.yml build
docker-compose -f docker-compose.production.yml up -d
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose -f docker-compose.production.yml logs`
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –ø–æ—Ä—Ç—ã –æ—Ç–∫—Ä—ã—Ç—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

---

‚ú® –£–¥–∞—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è!